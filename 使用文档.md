# 制程可靠性数据分析系统使用文档

## 系统概述

制程可靠性数据分析系统是一个用于监控和分析半导体制造过程中可靠性数据的系统。系统能够自动监控远程服务器上的数据文件夹，当检测到新数据时自动处理并存储到数据库中，同时提供Web界面供用户查询和导出数据，并生成分析报告。

## 系统功能

1. **数据监控**：自动监控远程服务器上的HCI&NBTI、VRDB和TDDB数据文件夹
2. **数据处理**：自动处理新数据并存储到数据库中
3. **数据查询**：提供Web界面供用户查询各类数据
4. **数据导出**：支持将查询结果导出为Excel文件
5. **报告生成**：支持生成各类数据分析报告

## 系统架构

系统采用前后端分离架构：
- 后端：Python + Flask + SQLAlchemy + MySQL
- 前端：React/Vue.js（需要单独部署）

## 环境要求

- Python 3.8+
- MySQL 5.7+
- pip包管理工具

## 安装部署

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置环境变量

在项目根目录下创建`.env`文件，配置数据库连接信息等环境变量：

```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=reliability_data
SECRET_KEY=your-secret-key
DEBUG=True
HOST=0.0.0.0
PORT=5000
CHECK_INTERVAL=300
DATA_RETENTION_DAYS=365
```

### 3. 初始化数据库

```bash
python src/check_database.py
```

### 启动系统

系统包含三个主要组件：

1. 数据监控服务：`python src/main.py`
2. Web服务：`python backend/app.py`
3. 前端服务：`cd frontend && python -m http.server 8000`

分别在不同的终端窗口中运行这三个命令，系统即可正常运行。前端服务启动后，可以通过以下地址访问：
- http://localhost:8000
- http://127.0.0.1:8000
- http://你的本机IP:8000

## 使用说明

### 1. 访问Web界面

启动Web服务后，在浏览器中访问以下地址：
- http://localhost:5000
- http://127.0.0.1:5000
- http://你的本机IP:5000

### 2. 数据查询

Web界面提供以下数据查询功能：
- HCI&NBTI数据查询
- VRDB数据查询
- TDDB数据查询

### 3. 数据导出

在查询结果页面，可以将数据导出为Excel文件。

### 4. 报告生成

系统支持生成以下类型的报告：
- HCI&NBTI分析报告
- VRDB分析报告
- TDDB分析报告
- 综合分析报告

在Web界面的报告生成页面选择报告类型和时间范围，系统将自动生成Word格式的报告文件。

## 目录结构

```
project/
├── backend/          # 后端代码
│   ├── app.py        # Flask应用入口
│   ├── models/       # 数据库模型
│   ├── utils/        # 工具函数
│   └── views/        # 视图函数
├── config/           # 配置文件
├── data/             # 数据文件
├── frontend/         # 前端代码
├── reports/          # 报告文件
├── src/              # 主程序
├── .env              # 环境变量配置
├── requirements.txt  # 依赖包列表
└── README.md         # 项目说明
```

## 配置说明

### 数据库配置

在`.env`文件中配置数据库连接信息：
- `DB_HOST`：数据库主机地址
- `DB_PORT`：数据库端口
- `DB_USER`：数据库用户名
- `DB_PASSWORD`：数据库密码
- `DB_NAME`：数据库名称

### 文件路径配置

在`config/config.py`中配置数据文件路径：
- `hci_nbti_source`：HCI&NBTI数据源路径
- `vrdb_source`：VRDB数据源路径
- `tddb_source`：TDDB数据源路径
- `processed_data`：已处理数据存储路径
- `reports`：报告文件存储路径

### 时间配置

在`config/config.py`中配置时间相关参数：
- `file_check_interval`：文件检查间隔（秒）

## 故障排除

### 1. 数据库连接失败

检查以下配置：
- 数据库服务是否启动
- 数据库连接信息是否正确
- 防火墙是否阻止了数据库端口

### 2. 数据未被处理

检查以下配置：
- 数据源路径是否正确
- 数据监控服务是否正常运行
- 数据文件格式是否正确

### 3. Web服务无法访问

检查以下配置：
- Web服务是否正常启动
- 端口是否被占用
- 防火墙是否阻止了Web端口